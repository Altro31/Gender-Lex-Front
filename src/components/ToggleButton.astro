---
import { cn } from "@/lib/utils"
import type { ComponentProps } from "react"
import { Button } from "~ui/button"

interface Props extends ComponentProps<typeof Button> {}

const { id, className, ...props } = Astro.props
---

<toggle-button
    id={id}
    onclick="this.dataset.state = this.dataset.state === 'on'? 'off' : 'on'"
    data-state="on"
    class="group"
>
    <!-- @ts-expect-error -->
    <Button
        {...props}
        type="button"
        className={cn("cursor-pointer", className)}
    >
        <div class="group-data-[state=off]:hidden">
            <slot name="on">On</slot>
        </div>
        <div class="group-data-[state=on]:hidden">
            <slot name="off">Off</slot>
        </div>
    </Button>
</toggle-button>
